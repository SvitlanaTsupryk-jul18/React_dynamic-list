(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(8),o=n.n(r),c=n(11),i=n(6),l=n.n(i),u=n(10),m=n(9),d=n(1),h=n(2),f=n(4),p=n(3),y=n(5),b=(n(19),function(e){var t=e.item;return s.a.createElement("li",{className:"comments__item"},s.a.createElement("p",null,s.a.createElement("h3",null,t.name),t.email),s.a.createElement("p",null,t.body))}),E=function(e){var t=e.items,n=e.classShow;return s.a.createElement("ul",{className:n?"comments show":"comments"},t.map(function(e){return s.a.createElement(b,{key:e.id,item:e})}))},v=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).state={show:!1},n.showComments=function(){n.setState(function(e){return{show:!e.show}})},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.comments;return s.a.createElement("div",{className:"user"},s.a.createElement("div",{className:"user__info"},s.a.createElement("span",null,"autor : ",t.name),s.a.createElement("p",null,"email : ",t.email),s.a.createElement("address",null,"city : ",t.address.city)),s.a.createElement("button",{className:"btn--show",onClick:this.showComments},this.state.show?"Hide ":"Show ","comments"),s.a.createElement(E,{items:n,classShow:this.state.show}))}}]),t}(s.a.Component),w=function(e){var t=e.item;return s.a.createElement("article",null,s.a.createElement("h2",null,t.title),s.a.createElement("p",{className:"post__text"},t.body),s.a.createElement(v,{user:t.user,comments:t.comments}))},j=function(e){var t=e.items,n=e.setFilterQuery,a=e.value;return t.length?s.a.createElement("div",{className:"posts"},s.a.createElement("input",{className:"filter",placeholder:"What do you want to find?",autoFocus:!0,query:a,onChange:n}),t.map(function(e){return s.a.createElement(w,{key:e.id,item:e})})):s.a.createElement("span",{style:{marginLeft:20,fontSize:24}},"Sorry!Nothing found")},O=function(){return fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()})},k=function(){return fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()})},N=function(){return fetch("https://jsonplaceholder.typicode.com/comments").then(function(e){return e.json()})},g=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).loadData=Object(m.a)(l.a.mark(function e(){var t,a,s,r,o,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({disabled:!0}),e.next=3,Promise.all([O(),k(),N()]);case 3:t=e.sent,a=Object(u.a)(t,3),s=a[0],r=a[1],o=a[2],c=n.getPosts(s,r,o),n.timerId=setTimeout(function(){n.setState({posts:c,isLoaded:!0})},500);case 10:case"end":return e.stop()}},e)})),n.state={posts:[],query:"",isLoaded:!1,disabled:!1,show:!1},n.setFilterQuery=function(e){n.setState({query:e.target.value})},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"getPosts",value:function(e,t,n){return e.map(function(e){return Object(c.a)({},e,{user:t.find(function(t){return t.id===e.userId}),comments:n.filter(function(t){return t.postId===e.id})})})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerId)}},{key:"filterPosts",value:function(e,t){return e&&e.filter(function(e){return e.title.includes(t)||e.body.includes(t)})}},{key:"render",value:function(){var e=this.state,t=e.posts,n=e.isLoaded,a=e.query,r=this.filterPosts(t,a);return s.a.createElement("div",{className:"App"},s.a.createElement("h1",null,"Dynamic list of  ",t.length," Posts"),n?s.a.createElement(j,{items:r,setFilterQuery:this.setFilterQuery,value:this.state.query}):s.a.createElement("button",{onClick:this.loadData,className:"btn--load",disabled:this.state.disabled},this.state.disabled?"Loading...":"Load"))}}]),t}(s.a.Component);o.a.render(s.a.createElement(g,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.1a870a30.chunk.js.map